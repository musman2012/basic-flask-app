{"version":3,"file":"upsetjs.umd.production.min.js","sources":["../../../.yarn/cache/preact-npm-10.4.4-6e82cf3bf8-714db52b5e.zip/node_modules/preact/src/constants.js","../../model/src/data/setOverlap.ts","../../model/src/queries.ts","../../../.yarn/cache/lz-string-npm-1.4.4-59a2091d3f-60a13f8a72.zip/node_modules/lz-string/libs/lz-string.js","../../math/src/boxplot.ts","../src/index.ts","../src/addons/boxplot.ts","../src/addons/categorical.ts"],"sourcesContent":["export const EMPTY_OBJ = {};\nexport const EMPTY_ARR = [];\nexport const IS_NON_DIMENSIONAL = /acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;\n","/**\n * @upsetjs/model\n * https://github.com/upsetjs/upsetjs\n *\n * Copyright (c) 2020 Samuel Gratzl <sam@sgratzl.com>\n */\n\nexport declare type SetOverlap = {\n  setA: number;\n  setB: number;\n  union: number;\n  intersection: number;\n};\n\nexport declare type SetElemOverlap<T> = {\n  setA: readonly T[];\n  setB: readonly T[];\n  union: readonly T[];\n  intersection: readonly T[];\n};\n\nfunction len<T>(a: Set<T> | readonly T[]) {\n  return a instanceof Set ? a.size : a.length;\n}\n\nexport function setOverlapFactory<T>(a: Set<T> | readonly T[], toElemKey?: (e: T) => string) {\n  const elems = !toElemKey\n    ? a instanceof Set\n      ? a\n      : new Set(a)\n    : new Set((a instanceof Set ? Array.from(a) : a).map(toElemKey));\n  const setA = elems.size;\n  const same: SetOverlap = {\n    setA,\n    setB: setA,\n    union: setA,\n    intersection: setA,\n  };\n\n  return (b: Set<T> | readonly T[]): SetOverlap => {\n    if (b === a) {\n      return same;\n    }\n    let intersection = 0;\n    b.forEach((e: T) => {\n      if ((toElemKey && (elems as Set<string>).has(toElemKey(e))) || (!toElemKey && (elems as Set<T>).has(e))) {\n        intersection++;\n      }\n    });\n    const setB = len(b);\n    return {\n      setA,\n      setB,\n      intersection,\n      union: setA + setB - intersection,\n    };\n  };\n}\n\nexport default function setOverlap<T>(\n  a: Set<T> | readonly T[],\n  b: Set<T> | readonly T[],\n  toElemKey?: (e: T) => string\n) {\n  if (len(a) < len(b) || a instanceof Set) {\n    return setOverlapFactory(a, toElemKey)(b);\n  }\n  const r = setOverlapFactory(b, toElemKey)(a);\n  // swap back\n  return Object.assign({}, r, {\n    setA: r.setB,\n    setB: r.setA,\n  });\n}\n\nexport function setElemOverlapFactory<T>(a: Set<T> | readonly T[], toElemKey?: (e: T) => string) {\n  const elems = !toElemKey\n    ? a instanceof Set\n      ? a\n      : new Set(a)\n    : new Set((a instanceof Set ? Array.from(a) : a).map(toElemKey));\n  const setA: readonly T[] = Array.isArray(a) ? a : Array.from(a);\n  const same: SetElemOverlap<T> = {\n    setA,\n    setB: setA,\n    union: setA,\n    intersection: setA,\n  };\n\n  return (b: Set<T> | readonly T[]): SetElemOverlap<T> => {\n    if (b === a) {\n      return same;\n    }\n    const intersection: T[] = [];\n    const union: T[] = setA.slice();\n    b.forEach((e: T) => {\n      if ((toElemKey && (elems as Set<string>).has(toElemKey(e))) || (!toElemKey && (elems as Set<T>).has(e))) {\n        intersection.push(e);\n      } else {\n        union.push(e);\n      }\n    });\n    return {\n      setA: setA,\n      setB: Array.isArray(b) ? b : Array.from(b),\n      intersection,\n      union,\n    };\n  };\n}\n\nexport function setElemOverlap<T>(a: Set<T> | readonly T[], b: Set<T> | readonly T[], toElemKey?: (e: T) => string) {\n  if (len(a) < len(b) || a instanceof Set) {\n    return setElemOverlapFactory(a, toElemKey)(b);\n  }\n  const r = setElemOverlapFactory(b, toElemKey)(a);\n  // swap back\n  return Object.assign({}, r, {\n    setA: r.setB,\n    setB: r.setA,\n  });\n}\n\nexport function setElemIntersectionFactory<T>(a: Set<T> | readonly T[], toElemKey?: (e: T) => string) {\n  const arr = a instanceof Set ? Array.from(a) : a;\n  const elems = !toElemKey ? (a instanceof Set ? a : new Set(a)) : new Set(arr.map(toElemKey));\n  return (b: Set<T> | readonly T[]): readonly T[] => {\n    if (b === a) {\n      return arr;\n    }\n    const intersection: T[] = [];\n    b.forEach((e: T) => {\n      if ((toElemKey && (elems as Set<string>).has(toElemKey(e))) || (!toElemKey && (elems as Set<T>).has(e))) {\n        intersection.push(e);\n      }\n    });\n    return intersection;\n  };\n}\n","/**\n * @upsetjs/model\n * https://github.com/upsetjs/upsetjs\n *\n * Copyright (c) 2020 Samuel Gratzl <sam@sgratzl.com>\n */\n\nimport { ISetLike } from './model';\nimport {\n  setOverlapFactory,\n  SetOverlap,\n  setElemOverlapFactory,\n  SetElemOverlap,\n  setElemIntersectionFactory,\n} from './data/setOverlap';\n\nexport type UpSetElemQuery<T = any> = {\n  /**\n   * name of this query for the tooltip\n   */\n  readonly name: string;\n  /**\n   * color for highlighting\n   */\n  readonly color: string;\n  /**\n   * elements within this query\n   */\n  readonly elems: readonly T[] | Set<T>;\n};\n\nexport type UpSetSetQuery<T = any> = {\n  /**\n   * name of this query for the tooltip\n   */\n  readonly name: string;\n  /**\n   * color for highlighting\n   */\n  readonly color: string;\n  /**\n   * set to highlight\n   */\n  readonly set: ISetLike<T>;\n};\n\nexport type UpSetCalcQuery<T = any> = {\n  /**\n   * name of this query for the tooltip\n   */\n  readonly name: string;\n  /**\n   * color for highlighting\n   */\n  readonly color: string;\n  /**\n   * computes the overlap of the given set to this query\n   * @param s the current set to evaluate\n   * @return at most `s.cardinality`\n   */\n  overlap(s: ISetLike<T> | readonly T[]): number;\n};\n\nexport type UpSetQuery<T = any> = UpSetElemQuery<T> | UpSetCalcQuery<T> | UpSetSetQuery<T>;\nexport type UpSetQueries<T = any> = readonly UpSetQuery<T>[];\n\nexport function isElemQuery<T>(q: UpSetQuery<T>): q is UpSetElemQuery<T> {\n  return Array.isArray((q as UpSetElemQuery<T>).elems);\n}\n\nexport function isCalcQuery<T>(q: UpSetQuery<T>): q is UpSetCalcQuery<T> {\n  return typeof (q as UpSetCalcQuery<T>).overlap === 'function';\n}\n\nexport function isSetQuery<T>(q: UpSetQuery<T>): q is UpSetSetQuery<T> {\n  return (q as UpSetSetQuery<T>).set != null;\n}\n\n/**\n * helper method to create an overlap function for a given query\n * @param query the query\n * @param what type of overlap\n * @param toElemKey optional key function\n */\nexport function queryOverlap<T>(query: UpSetQuery<T>, what: keyof SetOverlap, toElemKey?: (e: T) => string) {\n  if (isCalcQuery(query)) {\n    return query.overlap;\n  }\n  if (isSetQuery(query) && query.set.overlap) {\n    return query.set.overlap;\n  }\n  const f = setOverlapFactory(isElemQuery(query) ? query.elems : query.set.elems, toElemKey);\n  return (s: ISetLike<T>) => {\n    if (s.overlap && isElemQuery(query) && Array.isArray(query.elems)) {\n      return s.overlap(query.elems);\n    }\n    if (s.overlap && isSetQuery(query)) {\n      return s.overlap(query.set);\n    }\n    return f(s.elems)[what];\n  };\n}\n\n/**\n * helper method to create an overlap function of elements for a given query\n * @param query the query\n * @param what type of overlap\n * @param toElemKey optional key function\n */\nexport function queryElemOverlap<T>(\n  query: UpSetQuery<T>,\n  what: keyof SetElemOverlap<T>,\n  toElemKey?: (e: T) => string\n): (s: ISetLike<T>) => readonly T[] | null {\n  if (isCalcQuery(query)) {\n    return () => null;\n  }\n  if (what === 'intersection') {\n    const f = setElemIntersectionFactory(isElemQuery(query) ? query.elems : query.set.elems, toElemKey);\n    return (s: ISetLike<T>) => f(s.elems);\n  }\n  const f = setElemOverlapFactory(isElemQuery(query) ? query.elems : query.set.elems, toElemKey);\n  return (s: ISetLike<T>) => {\n    return f(s.elems)[what];\n  };\n}\n","// Copyright (c) 2013 Pieroxy <pieroxy@pieroxy.net>\n// This work is free. You can redistribute it and/or modify it\n// under the terms of the WTFPL, Version 2\n// For more information see LICENSE.txt or http://www.wtfpl.net/\n//\n// For more information, the home page:\n// http://pieroxy.net/blog/pages/lz-string/testing.html\n//\n// LZ-based compression algorithm, version 1.4.4\nvar LZString = (function() {\n\n// private property\nvar f = String.fromCharCode;\nvar keyStrBase64 = \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=\";\nvar keyStrUriSafe = \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+-$\";\nvar baseReverseDic = {};\n\nfunction getBaseValue(alphabet, character) {\n  if (!baseReverseDic[alphabet]) {\n    baseReverseDic[alphabet] = {};\n    for (var i=0 ; i<alphabet.length ; i++) {\n      baseReverseDic[alphabet][alphabet.charAt(i)] = i;\n    }\n  }\n  return baseReverseDic[alphabet][character];\n}\n\nvar LZString = {\n  compressToBase64 : function (input) {\n    if (input == null) return \"\";\n    var res = LZString._compress(input, 6, function(a){return keyStrBase64.charAt(a);});\n    switch (res.length % 4) { // To produce valid Base64\n    default: // When could this happen ?\n    case 0 : return res;\n    case 1 : return res+\"===\";\n    case 2 : return res+\"==\";\n    case 3 : return res+\"=\";\n    }\n  },\n\n  decompressFromBase64 : function (input) {\n    if (input == null) return \"\";\n    if (input == \"\") return null;\n    return LZString._decompress(input.length, 32, function(index) { return getBaseValue(keyStrBase64, input.charAt(index)); });\n  },\n\n  compressToUTF16 : function (input) {\n    if (input == null) return \"\";\n    return LZString._compress(input, 15, function(a){return f(a+32);}) + \" \";\n  },\n\n  decompressFromUTF16: function (compressed) {\n    if (compressed == null) return \"\";\n    if (compressed == \"\") return null;\n    return LZString._decompress(compressed.length, 16384, function(index) { return compressed.charCodeAt(index) - 32; });\n  },\n\n  //compress into uint8array (UCS-2 big endian format)\n  compressToUint8Array: function (uncompressed) {\n    var compressed = LZString.compress(uncompressed);\n    var buf=new Uint8Array(compressed.length*2); // 2 bytes per character\n\n    for (var i=0, TotalLen=compressed.length; i<TotalLen; i++) {\n      var current_value = compressed.charCodeAt(i);\n      buf[i*2] = current_value >>> 8;\n      buf[i*2+1] = current_value % 256;\n    }\n    return buf;\n  },\n\n  //decompress from uint8array (UCS-2 big endian format)\n  decompressFromUint8Array:function (compressed) {\n    if (compressed===null || compressed===undefined){\n        return LZString.decompress(compressed);\n    } else {\n        var buf=new Array(compressed.length/2); // 2 bytes per character\n        for (var i=0, TotalLen=buf.length; i<TotalLen; i++) {\n          buf[i]=compressed[i*2]*256+compressed[i*2+1];\n        }\n\n        var result = [];\n        buf.forEach(function (c) {\n          result.push(f(c));\n        });\n        return LZString.decompress(result.join(''));\n\n    }\n\n  },\n\n\n  //compress into a string that is already URI encoded\n  compressToEncodedURIComponent: function (input) {\n    if (input == null) return \"\";\n    return LZString._compress(input, 6, function(a){return keyStrUriSafe.charAt(a);});\n  },\n\n  //decompress from an output of compressToEncodedURIComponent\n  decompressFromEncodedURIComponent:function (input) {\n    if (input == null) return \"\";\n    if (input == \"\") return null;\n    input = input.replace(/ /g, \"+\");\n    return LZString._decompress(input.length, 32, function(index) { return getBaseValue(keyStrUriSafe, input.charAt(index)); });\n  },\n\n  compress: function (uncompressed) {\n    return LZString._compress(uncompressed, 16, function(a){return f(a);});\n  },\n  _compress: function (uncompressed, bitsPerChar, getCharFromInt) {\n    if (uncompressed == null) return \"\";\n    var i, value,\n        context_dictionary= {},\n        context_dictionaryToCreate= {},\n        context_c=\"\",\n        context_wc=\"\",\n        context_w=\"\",\n        context_enlargeIn= 2, // Compensate for the first entry which should not count\n        context_dictSize= 3,\n        context_numBits= 2,\n        context_data=[],\n        context_data_val=0,\n        context_data_position=0,\n        ii;\n\n    for (ii = 0; ii < uncompressed.length; ii += 1) {\n      context_c = uncompressed.charAt(ii);\n      if (!Object.prototype.hasOwnProperty.call(context_dictionary,context_c)) {\n        context_dictionary[context_c] = context_dictSize++;\n        context_dictionaryToCreate[context_c] = true;\n      }\n\n      context_wc = context_w + context_c;\n      if (Object.prototype.hasOwnProperty.call(context_dictionary,context_wc)) {\n        context_w = context_wc;\n      } else {\n        if (Object.prototype.hasOwnProperty.call(context_dictionaryToCreate,context_w)) {\n          if (context_w.charCodeAt(0)<256) {\n            for (i=0 ; i<context_numBits ; i++) {\n              context_data_val = (context_data_val << 1);\n              if (context_data_position == bitsPerChar-1) {\n                context_data_position = 0;\n                context_data.push(getCharFromInt(context_data_val));\n                context_data_val = 0;\n              } else {\n                context_data_position++;\n              }\n            }\n            value = context_w.charCodeAt(0);\n            for (i=0 ; i<8 ; i++) {\n              context_data_val = (context_data_val << 1) | (value&1);\n              if (context_data_position == bitsPerChar-1) {\n                context_data_position = 0;\n                context_data.push(getCharFromInt(context_data_val));\n                context_data_val = 0;\n              } else {\n                context_data_position++;\n              }\n              value = value >> 1;\n            }\n          } else {\n            value = 1;\n            for (i=0 ; i<context_numBits ; i++) {\n              context_data_val = (context_data_val << 1) | value;\n              if (context_data_position ==bitsPerChar-1) {\n                context_data_position = 0;\n                context_data.push(getCharFromInt(context_data_val));\n                context_data_val = 0;\n              } else {\n                context_data_position++;\n              }\n              value = 0;\n            }\n            value = context_w.charCodeAt(0);\n            for (i=0 ; i<16 ; i++) {\n              context_data_val = (context_data_val << 1) | (value&1);\n              if (context_data_position == bitsPerChar-1) {\n                context_data_position = 0;\n                context_data.push(getCharFromInt(context_data_val));\n                context_data_val = 0;\n              } else {\n                context_data_position++;\n              }\n              value = value >> 1;\n            }\n          }\n          context_enlargeIn--;\n          if (context_enlargeIn == 0) {\n            context_enlargeIn = Math.pow(2, context_numBits);\n            context_numBits++;\n          }\n          delete context_dictionaryToCreate[context_w];\n        } else {\n          value = context_dictionary[context_w];\n          for (i=0 ; i<context_numBits ; i++) {\n            context_data_val = (context_data_val << 1) | (value&1);\n            if (context_data_position == bitsPerChar-1) {\n              context_data_position = 0;\n              context_data.push(getCharFromInt(context_data_val));\n              context_data_val = 0;\n            } else {\n              context_data_position++;\n            }\n            value = value >> 1;\n          }\n\n\n        }\n        context_enlargeIn--;\n        if (context_enlargeIn == 0) {\n          context_enlargeIn = Math.pow(2, context_numBits);\n          context_numBits++;\n        }\n        // Add wc to the dictionary.\n        context_dictionary[context_wc] = context_dictSize++;\n        context_w = String(context_c);\n      }\n    }\n\n    // Output the code for w.\n    if (context_w !== \"\") {\n      if (Object.prototype.hasOwnProperty.call(context_dictionaryToCreate,context_w)) {\n        if (context_w.charCodeAt(0)<256) {\n          for (i=0 ; i<context_numBits ; i++) {\n            context_data_val = (context_data_val << 1);\n            if (context_data_position == bitsPerChar-1) {\n              context_data_position = 0;\n              context_data.push(getCharFromInt(context_data_val));\n              context_data_val = 0;\n            } else {\n              context_data_position++;\n            }\n          }\n          value = context_w.charCodeAt(0);\n          for (i=0 ; i<8 ; i++) {\n            context_data_val = (context_data_val << 1) | (value&1);\n            if (context_data_position == bitsPerChar-1) {\n              context_data_position = 0;\n              context_data.push(getCharFromInt(context_data_val));\n              context_data_val = 0;\n            } else {\n              context_data_position++;\n            }\n            value = value >> 1;\n          }\n        } else {\n          value = 1;\n          for (i=0 ; i<context_numBits ; i++) {\n            context_data_val = (context_data_val << 1) | value;\n            if (context_data_position == bitsPerChar-1) {\n              context_data_position = 0;\n              context_data.push(getCharFromInt(context_data_val));\n              context_data_val = 0;\n            } else {\n              context_data_position++;\n            }\n            value = 0;\n          }\n          value = context_w.charCodeAt(0);\n          for (i=0 ; i<16 ; i++) {\n            context_data_val = (context_data_val << 1) | (value&1);\n            if (context_data_position == bitsPerChar-1) {\n              context_data_position = 0;\n              context_data.push(getCharFromInt(context_data_val));\n              context_data_val = 0;\n            } else {\n              context_data_position++;\n            }\n            value = value >> 1;\n          }\n        }\n        context_enlargeIn--;\n        if (context_enlargeIn == 0) {\n          context_enlargeIn = Math.pow(2, context_numBits);\n          context_numBits++;\n        }\n        delete context_dictionaryToCreate[context_w];\n      } else {\n        value = context_dictionary[context_w];\n        for (i=0 ; i<context_numBits ; i++) {\n          context_data_val = (context_data_val << 1) | (value&1);\n          if (context_data_position == bitsPerChar-1) {\n            context_data_position = 0;\n            context_data.push(getCharFromInt(context_data_val));\n            context_data_val = 0;\n          } else {\n            context_data_position++;\n          }\n          value = value >> 1;\n        }\n\n\n      }\n      context_enlargeIn--;\n      if (context_enlargeIn == 0) {\n        context_enlargeIn = Math.pow(2, context_numBits);\n        context_numBits++;\n      }\n    }\n\n    // Mark the end of the stream\n    value = 2;\n    for (i=0 ; i<context_numBits ; i++) {\n      context_data_val = (context_data_val << 1) | (value&1);\n      if (context_data_position == bitsPerChar-1) {\n        context_data_position = 0;\n        context_data.push(getCharFromInt(context_data_val));\n        context_data_val = 0;\n      } else {\n        context_data_position++;\n      }\n      value = value >> 1;\n    }\n\n    // Flush the last char\n    while (true) {\n      context_data_val = (context_data_val << 1);\n      if (context_data_position == bitsPerChar-1) {\n        context_data.push(getCharFromInt(context_data_val));\n        break;\n      }\n      else context_data_position++;\n    }\n    return context_data.join('');\n  },\n\n  decompress: function (compressed) {\n    if (compressed == null) return \"\";\n    if (compressed == \"\") return null;\n    return LZString._decompress(compressed.length, 32768, function(index) { return compressed.charCodeAt(index); });\n  },\n\n  _decompress: function (length, resetValue, getNextValue) {\n    var dictionary = [],\n        next,\n        enlargeIn = 4,\n        dictSize = 4,\n        numBits = 3,\n        entry = \"\",\n        result = [],\n        i,\n        w,\n        bits, resb, maxpower, power,\n        c,\n        data = {val:getNextValue(0), position:resetValue, index:1};\n\n    for (i = 0; i < 3; i += 1) {\n      dictionary[i] = i;\n    }\n\n    bits = 0;\n    maxpower = Math.pow(2,2);\n    power=1;\n    while (power!=maxpower) {\n      resb = data.val & data.position;\n      data.position >>= 1;\n      if (data.position == 0) {\n        data.position = resetValue;\n        data.val = getNextValue(data.index++);\n      }\n      bits |= (resb>0 ? 1 : 0) * power;\n      power <<= 1;\n    }\n\n    switch (next = bits) {\n      case 0:\n          bits = 0;\n          maxpower = Math.pow(2,8);\n          power=1;\n          while (power!=maxpower) {\n            resb = data.val & data.position;\n            data.position >>= 1;\n            if (data.position == 0) {\n              data.position = resetValue;\n              data.val = getNextValue(data.index++);\n            }\n            bits |= (resb>0 ? 1 : 0) * power;\n            power <<= 1;\n          }\n        c = f(bits);\n        break;\n      case 1:\n          bits = 0;\n          maxpower = Math.pow(2,16);\n          power=1;\n          while (power!=maxpower) {\n            resb = data.val & data.position;\n            data.position >>= 1;\n            if (data.position == 0) {\n              data.position = resetValue;\n              data.val = getNextValue(data.index++);\n            }\n            bits |= (resb>0 ? 1 : 0) * power;\n            power <<= 1;\n          }\n        c = f(bits);\n        break;\n      case 2:\n        return \"\";\n    }\n    dictionary[3] = c;\n    w = c;\n    result.push(c);\n    while (true) {\n      if (data.index > length) {\n        return \"\";\n      }\n\n      bits = 0;\n      maxpower = Math.pow(2,numBits);\n      power=1;\n      while (power!=maxpower) {\n        resb = data.val & data.position;\n        data.position >>= 1;\n        if (data.position == 0) {\n          data.position = resetValue;\n          data.val = getNextValue(data.index++);\n        }\n        bits |= (resb>0 ? 1 : 0) * power;\n        power <<= 1;\n      }\n\n      switch (c = bits) {\n        case 0:\n          bits = 0;\n          maxpower = Math.pow(2,8);\n          power=1;\n          while (power!=maxpower) {\n            resb = data.val & data.position;\n            data.position >>= 1;\n            if (data.position == 0) {\n              data.position = resetValue;\n              data.val = getNextValue(data.index++);\n            }\n            bits |= (resb>0 ? 1 : 0) * power;\n            power <<= 1;\n          }\n\n          dictionary[dictSize++] = f(bits);\n          c = dictSize-1;\n          enlargeIn--;\n          break;\n        case 1:\n          bits = 0;\n          maxpower = Math.pow(2,16);\n          power=1;\n          while (power!=maxpower) {\n            resb = data.val & data.position;\n            data.position >>= 1;\n            if (data.position == 0) {\n              data.position = resetValue;\n              data.val = getNextValue(data.index++);\n            }\n            bits |= (resb>0 ? 1 : 0) * power;\n            power <<= 1;\n          }\n          dictionary[dictSize++] = f(bits);\n          c = dictSize-1;\n          enlargeIn--;\n          break;\n        case 2:\n          return result.join('');\n      }\n\n      if (enlargeIn == 0) {\n        enlargeIn = Math.pow(2, numBits);\n        numBits++;\n      }\n\n      if (dictionary[c]) {\n        entry = dictionary[c];\n      } else {\n        if (c === dictSize) {\n          entry = w + w.charAt(0);\n        } else {\n          return null;\n        }\n      }\n      result.push(entry);\n\n      // Add w+entry[0] to the dictionary.\n      dictionary[dictSize++] = w + entry.charAt(0);\n      enlargeIn--;\n\n      w = entry;\n\n      if (enlargeIn == 0) {\n        enlargeIn = Math.pow(2, numBits);\n        numBits++;\n      }\n\n    }\n  }\n};\n  return LZString;\n})();\n\nif (typeof define === 'function' && define.amd) {\n  define(function () { return LZString; });\n} else if( typeof module !== 'undefined' && module != null ) {\n  module.exports = LZString\n}\n","/**\n * @upsetjs/math\n * https://github.com/upsetjs/upsetjs\n *\n * Copyright (c) 2020 Samuel Gratzl <sam@sgratzl.com>\n */\n\nexport interface IBoxPlot {\n  readonly min: number;\n  readonly max: number;\n  readonly median: number;\n  readonly q1: number;\n  readonly q3: number;\n  readonly outlier: number[];\n  readonly whiskerLow: number;\n  readonly whiskerHigh: number;\n\n  readonly mean: number;\n\n  readonly missing: number;\n  readonly count: number;\n}\n\n/**\n * computes the boxplot stats using the given interpolation function if needed\n * @param {number[]} arr sorted array of number\n * @param {(i: number, j: number, fraction: number)} interpolate interpolation function\n */\nfunction quantilesInterpolate(\n  arr: ArrayLike<number>,\n  length: number,\n  interpolate: (i: number, j: number, fraction: number) => number\n) {\n  const n1 = length - 1;\n  const compute = (q: number) => {\n    const index = q * n1;\n    const lo = Math.floor(index);\n    const h = index - lo;\n    const a = arr[lo];\n\n    return h === 0 ? a : interpolate(a, arr[Math.min(lo + 1, n1)], h);\n  };\n\n  return {\n    q1: compute(0.25),\n    median: compute(0.5),\n    q3: compute(0.75),\n  };\n}\n\n/**\n * Uses R's quantile algorithm type=7.\n * https://en.wikipedia.org/wiki/Quantile#Quantiles_of_a_population\n */\nexport function quantilesType7(arr: ArrayLike<number>, length = arr.length) {\n  return quantilesInterpolate(arr, length, (a, b, alpha) => a + alpha * (b - a));\n}\n\n/**\n * ‘linear’: i + (j - i) * fraction, where fraction is the fractional part of the index surrounded by i and j.\n * (same as type 7)\n */\nfunction quantilesLinear(arr: ArrayLike<number>, length = arr.length) {\n  return quantilesInterpolate(arr, length, (i, j, fraction) => i + (j - i) * fraction);\n}\n\n/**\n * ‘lower’: i.\n */\nfunction quantilesLower(arr: ArrayLike<number>, length = arr.length) {\n  return quantilesInterpolate(arr, length, (i) => i);\n}\n\n/**\n * 'higher': j.\n */\nfunction quantilesHigher(arr: ArrayLike<number>, length = arr.length) {\n  return quantilesInterpolate(arr, length, (_, j) => j);\n}\n\n/**\n * ‘nearest’: i or j, whichever is nearest\n */\nfunction quantilesNearest(arr: ArrayLike<number>, length = arr.length) {\n  return quantilesInterpolate(arr, length, (i, j, fraction) => (fraction < 0.5 ? i : j));\n}\n\n/**\n * ‘midpoint’: (i + j) / 2\n */\nfunction quantilesMidpoint(arr: ArrayLike<number>, length = arr.length) {\n  return quantilesInterpolate(arr, length, (i, j) => (i + j) * 0.5);\n}\n\n/**\n * The hinges equal the quartiles for odd n (where n <- length(x))\n * and differ for even n. Whereas the quartiles only equal observations\n * for n %% 4 == 1 (n = 1 mod 4), the hinges do so additionally\n * for n %% 4 == 2 (n = 2 mod 4), and are in the middle of\n * two observations otherwise.\n * @param {number[]} arr sorted array\n */\nexport function fivenum(arr: ArrayLike<number>, length = arr.length) {\n  // based on R fivenum\n  const n = length;\n\n  // assuming R 1 index system, so arr[1] is the first element\n  const n4 = Math.floor((n + 3) / 2) / 2;\n  const compute = (d: number) => 0.5 * (arr[Math.floor(d) - 1] + arr[Math.ceil(d) - 1]);\n\n  return {\n    q1: compute(n4),\n    median: compute((n + 1) / 2),\n    q3: compute(n + 1 - n4),\n  };\n}\nexport declare type QuantilesMethod =\n  | 'hinges'\n  | 'fivenum'\n  | 'type7'\n  | 'quantiles'\n  | 'linear'\n  | 'lower'\n  | 'higher'\n  | 'nearest'\n  | 'midpoint';\n\nconst methodLookup = {\n  hinges: fivenum,\n  fivenum: fivenum,\n  type7: quantilesType7,\n  quantiles: quantilesType7,\n  linear: quantilesLinear,\n  lower: quantilesLower,\n  higher: quantilesHigher,\n  nearest: quantilesNearest,\n  midpoint: quantilesMidpoint,\n};\n\nexport declare type CustomQuantileMethod = (\n  arr: ArrayLike<number>,\n  length: number\n) => { q1: number; median: number; q3: number };\n\nfunction determineQuantiles(q: QuantilesMethod | CustomQuantileMethod) {\n  if (typeof q === 'function') {\n    return q;\n  }\n  return methodLookup[q] || quantilesType7;\n}\n\nexport declare type BoxplotStatsOptions = {\n  /**\n   * @default 1.5\n   */\n  coef?: number;\n\n  /**\n   * @default type7\n   */\n  quantiles?: QuantilesMethod | CustomQuantileMethod;\n};\n\nfunction determineStatsOptions(options: Partial<BoxplotStatsOptions> = {}) {\n  return {\n    coef: options.coef ?? 1.5,\n    quantiles: determineQuantiles(options.quantiles ?? 'type7'),\n  };\n}\n\nexport default function boxplot(data: readonly number[], options: BoxplotStatsOptions = {}): IBoxPlot {\n  let min = Number.POSITIVE_INFINITY;\n  let max = Number.NEGATIVE_INFINITY;\n  let sum = 0;\n  let valid = 0;\n  let length = data.length;\n\n  const { quantiles, coef } = determineStatsOptions(options);\n\n  // if fixed size use the typed array else a regular array\n  const vs = new Float32Array(length);\n\n  for (let i = 0; i < length; ++i) {\n    const v = data[i];\n    if (v == null || Number.isNaN(v)) {\n      continue;\n    }\n    vs[valid] = v;\n    valid++;\n\n    if (v < min) {\n      min = v;\n    }\n    if (v > max) {\n      max = v;\n    }\n    sum += v;\n  }\n\n  const missing = length - valid;\n\n  const invalid = {\n    min: NaN,\n    max: NaN,\n    mean: NaN,\n    missing,\n    count: length,\n    whiskerHigh: NaN,\n    whiskerLow: NaN,\n    outlier: [],\n    median: NaN,\n    q1: NaN,\n    q3: NaN,\n  };\n\n  if (valid === 0) {\n    return invalid;\n  }\n\n  // add comparator since the polyfill doesn't to a real sorting\n  const s = vs.subarray(0, valid).sort((a, b) => (a === b ? 0 : a < b ? -1 : 1));\n  const { median, q1, q3 } = quantiles(s, valid);\n  const iqr = q3 - q1;\n  const coefValid = typeof coef === 'number' && coef > 0;\n  const left = coefValid ? Math.max(min, q1 - coef * iqr) : min;\n  const right = coefValid ? Math.min(max, q3 + coef * iqr) : max;\n\n  const outlier: number[] = [];\n  // look for the closest value which is bigger than the computed left\n  let whiskerLow = left;\n  for (let i = 0; i < valid; ++i) {\n    const v = s[i];\n    if (left < v) {\n      whiskerLow = v;\n      break;\n    }\n    // outlier\n    if (outlier.length === 0 || outlier[outlier.length - 1] !== v) {\n      outlier.push(v);\n    }\n  }\n  // look for the closest value which is smaller than the computed right\n  let whiskerHigh = right;\n  const reversedOutliers: number[] = [];\n  for (let i = valid - 1; i >= 0; --i) {\n    const v = s[i];\n    if (v < right) {\n      whiskerHigh = v;\n      break;\n    }\n    // outlier\n    if (\n      (reversedOutliers.length === 0 || reversedOutliers[reversedOutliers.length - 1] !== v) &&\n      (outlier.length === 0 || outlier[outlier.length - 1] !== v)\n    ) {\n      reversedOutliers.push(v);\n    }\n  }\n\n  return {\n    min,\n    max,\n    count: length,\n    missing,\n    mean: sum / valid,\n    whiskerHigh,\n    whiskerLow,\n    outlier: outlier.concat(reversedOutliers.reverse()),\n    median,\n    q1,\n    q3,\n  };\n}\n","/**\n * @upsetjs/bundle\n * https://github.com/upsetjs/upsetjs\n *\n * Copyright (c) 2020 Samuel Gratzl <sam@sgratzl.com>\n */\n\nimport { render as renderPreact, h, hydrate as hydratePreact } from 'preact';\nimport UpSetElement, {\n  UpSetPropsG,\n  VennDiagramPropsG,\n  KarnaughMapPropsG,\n  UpSetFullPropsG,\n  VennDiagramFullPropsG,\n  KarnaughMapFullPropsG,\n  UpSetProps as UpSetReactProps,\n  VennDiagramProps as VennDiagramReactProps,\n  KarnaughMapProps as KarnaughMapReactProps,\n  fillDefaults as fillDefaultsImpl,\n  fillVennDiagramDefaults as fillVennDiagramDefaultsImpl,\n  fillKarnaughMapDefaults as fillKarnaughMapDefaultsImpl,\n  exportSVG as exportSVGImpl,\n  downloadUrl as downloadUrlImpl,\n  toUpSetJSDump as toUpSetJSDumpImpl,\n  toUpSetJSStaticDump as toUpSetJSStaticDumpImpl,\n  IUpSetDump,\n  IUpSetStaticDump,\n  IUpSetJSDump,\n  IUpSetJSStaticDump,\n  UpSetMultiStyle,\n  VennDiagram as VennDiagramElement,\n  VennDiagramMultiStyle,\n  KarnaughMap as KarnaughMapElement,\n  KarnaughMapMultiStyle,\n  UpSetJSSkeletonProps as UpSetJSSkeletonPropsImpl,\n  VennDiagramSkeleton,\n  KarnaughMapSkeleton,\n  UpSetJSSkeleton,\n} from '@upsetjs/react';\nimport { UpSetReactElement } from './react';\n\nexport * from './addons';\nexport * from '@upsetjs/model';\nexport {\n  propValidators,\n  IUpSetJSDump,\n  IUpSetJSStaticDump,\n  UpSetJSDumpProps,\n  UpSetThemeProps,\n  UpSetThemes,\n  UpSetStyleProps,\n  UpSetFontSizes,\n  VennDiagramFontSizes,\n  KarnaughMapFontSizes,\n  UpSetLayoutProps,\n  VennDiagramLayoutProps,\n  KarnaughMapLayoutProps,\n  UpSetSelectionProps,\n  VennDiagramThemeProps,\n  KarnaughMapThemeProps,\n  UpSetStyleClassNames,\n  UpSetExportOptions,\n  createVennJSAdapter,\n  getDefaultTheme,\n  UpSetAddonHandlerInfo,\n  UpSetAddonHandlerInfos,\n} from '@upsetjs/react';\n\nexport * from './react';\n\nexport declare type UpSetJSSkeletonProps = {\n  background?: string;\n  color?: string;\n  secondaryColor?: string;\n  // any other property will be forwarded to the SVG element\n  [key: string]: any;\n};\n\nexport declare type UpSetProps<T = any> = UpSetPropsG<T, CSSStyleDeclaration, UpSetReactElement, string>;\nexport declare type UpSetFullProps<T = any> = UpSetFullPropsG<T, CSSStyleDeclaration, UpSetReactElement, string>;\nexport declare type VennDiagramProps<T = any> = VennDiagramPropsG<T, CSSStyleDeclaration, UpSetReactElement, string>;\nexport declare type VennDiagramFullProps<T = any> = VennDiagramFullPropsG<\n  T,\n  CSSStyleDeclaration,\n  UpSetReactElement,\n  string\n>;\nexport declare type KarnaughMapProps<T = any> = KarnaughMapPropsG<T, CSSStyleDeclaration, UpSetReactElement, string>;\nexport declare type KarnaughMapFullProps<T = any> = KarnaughMapFullPropsG<\n  T,\n  CSSStyleDeclaration,\n  UpSetReactElement,\n  string\n>;\n\n/**\n * helper methods to fill up partial UpSet.js properties with their default values\n */\nexport function fillDefaults<T = any>(props: UpSetProps<T>): UpSetFullProps<T> {\n  const p: UpSetReactProps<T> = props as UpSetProps<T> & { style: any; styles: UpSetMultiStyle<any> };\n  return fillDefaultsImpl(p) as UpSetFullProps<T>;\n}\n\n/**\n * helper methods to fill up partial UpSet.js properties with their default values\n */\nexport function fillVennDiagramDefaults<T = any>(props: VennDiagramProps<T>): VennDiagramFullProps<T> {\n  const p: VennDiagramReactProps<T> = props as VennDiagramProps<T> & { style: any; styles: VennDiagramMultiStyle<any> };\n  return fillVennDiagramDefaultsImpl(p) as VennDiagramFullProps<T>;\n}\n/**\n * helper methods to fill up partial UpSet.js properties with their default values\n */\nexport function fillKarnaughMapDefaults<T = any>(props: KarnaughMapProps<T>): KarnaughMapFullProps<T> {\n  const p: KarnaughMapReactProps<T> = props as KarnaughMapProps<T> & { style: any; styles: KarnaughMapMultiStyle<any> };\n  return fillKarnaughMapDefaultsImpl(p) as KarnaughMapFullProps<T>;\n}\n\n/**\n * renders the UpSetJS component\n * @param node the DOM node to render the component into\n * @param props the properties of the component\n */\nexport function render<T = any>(node: HTMLElement, props: UpSetProps<T>) {\n  const p: UpSetReactProps<T> = props as UpSetProps<T> & { style: any; styles: UpSetMultiStyle<any> };\n  renderPreact(h(UpSetElement as any, p), node);\n}\n\n/**\n * renders the VennDiagram component\n * @param node the DOM node to render the component into\n * @param props the properties of the component\n */\nexport function renderVennDiagram<T = any>(node: HTMLElement, props: VennDiagramProps<T>) {\n  const p: VennDiagramReactProps<T> = props as VennDiagramProps<T> & { style: any; styles: VennDiagramMultiStyle<any> };\n  renderPreact(h(VennDiagramElement as any, p), node);\n}\n/**\n * renders the KarnaughMap component\n * @param node the DOM node to render the component into\n * @param props the properties of the component\n */\nexport function renderKarnaughMap<T = any>(node: HTMLElement, props: KarnaughMapProps<T>) {\n  const p: KarnaughMapReactProps<T> = props as KarnaughMapProps<T> & { style: any; styles: KarnaughMapMultiStyle<any> };\n  renderPreact(h(KarnaughMapElement as any, p), node);\n}\n\n/**\n * renders the UpSetJS skeleton component\n * @param node the DOM node to render the component into\n * @param props the properties of the component\n */\nexport function renderSkeleton(node: HTMLElement, props: UpSetJSSkeletonProps) {\n  const p: UpSetJSSkeletonPropsImpl = props;\n  renderPreact(h(UpSetJSSkeleton as any, p), node);\n}\n\n/**\n * renders the VennDiagram skeleton component\n * @param node the DOM node to render the component into\n * @param props the properties of the component\n */\nexport function renderVennDiagramSkeleton(node: HTMLElement, props: UpSetJSSkeletonProps) {\n  const p: UpSetJSSkeletonPropsImpl = props;\n  renderPreact(h(VennDiagramSkeleton as any, p), node);\n}\n/**\n * renders the KarnaughMap skeleton component\n * @param node the DOM node to render the component into\n * @param props the properties of the component\n */\nexport function renderKarnaughMapSkeleton(node: HTMLElement, props: UpSetJSSkeletonProps) {\n  const p: UpSetJSSkeletonPropsImpl = props;\n  renderPreact(h(KarnaughMapSkeleton as any, p), node);\n}\n\n/**\n * renders the UpSetJS component\n * @param node the DOM node to render the component into\n * @param props the properties of the component\n */\nexport const renderUpSet = render;\n\n/**\n * hydrates the UpSetJS component when applied on a server rendered version\n * @param node the DOM node to render the component into\n * @param props the properties of the component\n */\nexport function hydrate<T = any>(node: HTMLElement, props: UpSetProps<T>) {\n  const p: UpSetReactProps<T> = props as UpSetProps<T> & { style: any; styles: UpSetMultiStyle<any> };\n  hydratePreact(h(UpSetElement as any, p), node);\n}\n\n/**\n * hydrates the VennDiagram component when applied on a server rendered version\n * @param node the DOM node to render the component into\n * @param props the properties of the component\n */\nexport function hydrateVennDiagram<T = any>(node: HTMLElement, props: VennDiagramProps<T>) {\n  const p: VennDiagramReactProps<T> = props as VennDiagramProps<T> & { style: any; styles: VennDiagramMultiStyle<any> };\n  hydratePreact(h(VennDiagramElement as any, p), node);\n}\n/**\n * hydrates the KarnaughMap component when applied on a server rendered version\n * @param node the DOM node to render the component into\n * @param props the properties of the component\n */\nexport function hydrateKarnaughMap<T = any>(node: HTMLElement, props: KarnaughMapProps<T>) {\n  const p: KarnaughMapReactProps<T> = props as KarnaughMapProps<T> & { style: any; styles: KarnaughMapMultiStyle<any> };\n  hydratePreact(h(KarnaughMapElement as any, p), node);\n}\n\n/**\n * hydrates the UpSetJS Skeleton component when applied on a server rendered version\n * @param node the DOM node to render the component into\n * @param props the properties of the component\n */\nexport function hydrateSkeleton(node: HTMLElement, props: UpSetJSSkeletonProps) {\n  const p: UpSetJSSkeletonPropsImpl = props;\n  hydratePreact(h(UpSetJSSkeleton as any, p), node);\n}\n\n/**\n * hydrates the VennDiagram Skeleton component when applied on a server rendered version\n * @param node the DOM node to render the component into\n * @param props the properties of the component\n */\nexport function hydrateVennDiagramSkeleton(node: HTMLElement, props: UpSetJSSkeletonProps) {\n  const p: UpSetJSSkeletonPropsImpl = props;\n  hydratePreact(h(VennDiagramSkeleton as any, p), node);\n}\n\n/**\n * hydrates the KarnaughMap Skeleton component when applied on a server rendered version\n * @param node the DOM node to render the component into\n * @param props the properties of the component\n */\nexport function hydrateKarnaughMapSkeleton(node: HTMLElement, props: UpSetJSSkeletonProps) {\n  const p: UpSetJSSkeletonPropsImpl = props;\n  hydratePreact(h(KarnaughMapSkeleton as any, p), node);\n}\n\n/**\n * hydrates the UpSetJS component when applied on a server rendered version\n * @param node the DOM node to render the component into\n * @param props the properties of the component\n */\nexport const hydrateUpSet = hydrate;\n\n/**\n * helper method to export an download an SVG image\n * @param node the SVG element to download\n * @param options additional options\n */\nexport function exportSVG(\n  node: SVGSVGElement,\n  options: { type?: 'png' | 'svg'; title?: string; toRemove?: string }\n): Promise<void> {\n  return exportSVGImpl(node, options);\n}\n\n/**\n * helper method to download a given url in the browser\n * @param url the url to download\n * @param title the desired file name\n * @param doc the root document\n */\nexport function downloadUrl(url: string, title: string, doc: Document) {\n  downloadUrlImpl(url, title, doc);\n}\n\nexport function toUpSetJSDump(\n  dump: IUpSetDump,\n  elements: readonly (number | string | any)[],\n  props: Partial<UpSetProps<any>>,\n  author?: string,\n  mode?: 'upset' | 'venn' | 'kmap'\n): IUpSetJSDump {\n  return toUpSetJSDumpImpl(\n    dump,\n    elements,\n    props as Partial<UpSetProps<any> & { style: any; styles: UpSetMultiStyle<any> }>,\n    author,\n    mode\n  );\n}\n\nexport function toUpSetJSStaticDump(\n  dump: IUpSetStaticDump,\n  props: Partial<UpSetProps<any>>,\n  author?: string,\n  mode?: 'upset' | 'venn' | 'kmap'\n): IUpSetJSStaticDump {\n  return toUpSetJSStaticDumpImpl(\n    dump,\n    props as Partial<UpSetProps<any> & { style: any; styles: UpSetMultiStyle<any> }>,\n    author,\n    mode\n  );\n}\n","/**\n * @upsetjs/bundle\n * https://github.com/upsetjs/upsetjs\n *\n * Copyright (c) 2020 Samuel Gratzl <sam@sgratzl.com>\n */\n\nimport { UpSetAddon } from '../react';\nimport {\n  boxplotAddon as boxplotAddonImpl,\n  IBoxplotStylePlainProps,\n  boxplotAggregatedAddon as boxplotAggregatedAddonImpl,\n} from '@upsetjs/addons';\nimport { IBoxPlot } from '@upsetjs/math';\n\nexport { boxplot, BoxplotStatsOptions, IBoxPlot, QuantilesMethod } from '@upsetjs/math';\n\nexport interface IBoxplotStyleProps extends IBoxplotStylePlainProps {\n  /**\n   * custom styles applied to the box element\n   */\n  boxStyle?: CSSStyleDeclaration;\n  /**\n   * custom styles applied to the whisker element\n   */\n  lineStyle?: CSSStyleDeclaration;\n  /**\n   * custom styles applied to the outlier elements\n   */\n  outlierStyle?: CSSStyleDeclaration;\n}\n\n/**\n * generates a boxplot addon to render box plots as UpSet.js addon for aggregated set data\n * @param prop accessor or name of the property within the element\n * @param elems list of elements or their minimum / maximum value for specifying the data domain\n * @param options additional options\n */\nexport function boxplotAddon<T>(\n  prop: keyof T | ((v: T) => number),\n  elems: readonly T[] | { min: number; max: number },\n  options: Partial<Pick<UpSetAddon<T>, 'size' | 'position' | 'name'>> & IBoxplotStyleProps = {}\n): UpSetAddon<T> {\n  return boxplotAddonImpl(\n    prop,\n    elems,\n    options as Partial<Pick<UpSetAddon<T>, 'size' | 'position' | 'name'>> &\n      IBoxplotStyleProps & { boxStyle: any; lineStyle: any; outlierStyle: any }\n  );\n}\n\n/**\n * generates a boxplot addon to render box plots as UpSet.js addon for aggregated set data\n * @param acc accessor\n * @param elems list of elements or their minimum / maximum value for specifying the data domain\n * @param options additional options\n */\nexport function boxplotAggregatedAddon<T>(\n  acc: (v: readonly T[]) => IBoxPlot,\n  domain: { min: number; max: number },\n  options: Partial<Pick<UpSetAddon<T>, 'size' | 'position' | 'name'>> & IBoxplotStyleProps = {}\n): UpSetAddon<T> {\n  return boxplotAggregatedAddonImpl(\n    acc,\n    domain,\n    options as Partial<Pick<UpSetAddon<T>, 'size' | 'position' | 'name'>> &\n      IBoxplotStyleProps & { boxStyle: any; lineStyle: any; outlierStyle: any }\n  );\n}\n","/**\n * @upsetjs/bundle\n * https://github.com/upsetjs/upsetjs\n *\n * Copyright (c) 2020 Samuel Gratzl <sam@sgratzl.com>\n */\n\nimport {\n  categoricalAddon as categoricalAddonImpl,\n  ICategory,\n  ICategoricalStyleProps,\n  ICategoryBins,\n  categoricalAggregatedAddon as categoricalAggregatedAddonImpl,\n} from '@upsetjs/addons';\nimport { UpSetAddon } from '../react';\n\nexport { ICategoricalStyleProps, ICategory } from '@upsetjs/addons';\nexport { categoricalHistogram, ICategoryBin, ICategories, ICategoryBins } from '@upsetjs/math';\n\n/**\n * generates a categorical addon to render categorical distribution as UpSet.js addon for aggregated set data\n * @param prop accessor or name of the property within the element\n * @param elems list of elements or their minimum / maximum value for specifying the data domain\n * @param options additional options\n */\nexport function categoricalAddon<T>(\n  prop: keyof T | ((v: T) => string),\n  elems: readonly T[] | { categories: readonly (string | ICategory)[] },\n  options: Partial<Pick<UpSetAddon<T>, 'size' | 'position' | 'name'>> & ICategoricalStyleProps = {}\n): UpSetAddon<T> {\n  return categoricalAddonImpl(prop, elems, options);\n}\n\n/**\n * generates a categorical addon to render categorical distribution as UpSet.js addon for aggregated set data\n * @param prop accessor or name of the property within the element\n * @param elems list of elements or their minimum / maximum value for specifying the data domain\n * @param options additional options\n */\nexport function categoricalAggregatedAddon<T>(\n  acc: (v: readonly T[]) => ICategoryBins,\n  options: Partial<Pick<UpSetAddon<T>, 'size' | 'position' | 'name'>> & ICategoricalStyleProps = {}\n): UpSetAddon<T> {\n  return categoricalAggregatedAddonImpl(acc, options);\n}\n"],"names":["EMPTY_ARR","len","a","setA","r","intersection","setB","union","b","e","toElemKey","has","s","isCalcQuery","LZString","f","String","fromCharCode","keyStrBase64","keyStrUriSafe","baseReverseDic","getBaseValue","alphabet","character","i","length","charAt","compressToBase64","input","res","_compress","decompressFromBase64","_decompress","index","compressToUTF16","decompressFromUTF16","compressed","charCodeAt","compressToUint8Array","uncompressed","compress","buf","Uint8Array","TotalLen","current_value","decompressFromUint8Array","decompress","Array","result","forEach","c","push","join","compressToEncodedURIComponent","decompressFromEncodedURIComponent","replace","bitsPerChar","getCharFromInt","value","ii","context_dictionary","context_dictionaryToCreate","context_c","context_wc","context_w","context_enlargeIn","context_dictSize","context_numBits","context_data","context_data_val","context_data_position","Object","prototype","hasOwnProperty","call","Math","pow","resetValue","getNextValue","w","bits","resb","maxpower","power","dictionary","enlargeIn","dictSize","numBits","entry","data","val","position","module","quantilesInterpolate","arr","interpolate","median","quantilesLower","quantilesHigher","quantilesNearest","determineQuantiles","q","hinges","quantiles","determineStatsOptions","v","vs","valid","coef","NaN","q1","left","outlier","render","node","props","renderPreact","h","UpSetElement","renderUpSet","hydrate","hydratePreact","hydrateUpSet","prop","elems","options","boxplotAddonImpl","acc","domain","boxplotAggregatedAddonImpl","categoricalAddonImpl","categoricalAggregatedAddonImpl","url","title","doc","downloadUrlImpl","exportSVGImpl","fillDefaultsImpl","fillKarnaughMapDefaultsImpl","fillVennDiagramDefaultsImpl","KarnaughMapElement","KarnaughMapSkeleton","UpSetJSSkeleton","VennDiagramElement","VennDiagramSkeleton","dump","elements","author","mode","toUpSetJSDumpImpl","toUpSetJSStaticDumpImpl"],"mappings":"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"}